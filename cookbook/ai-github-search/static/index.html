<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI GitHub Search</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      .hidden { display: none !important; }

      :root {
        --warm-ink: #c9a13a;
        --warm-ink-2: #e4d29a;
        --charcoal: #2f3136;
        --charcoal-2: #33363d;
        --sep: rgba(170,148,90,0.28);
        --sep-strong: rgba(170,148,90,0.78);
      }

      html, body { height: 100%; }
      body {
        font-family: Consolas, "JetBrains Mono", Monaco, "Courier New", monospace;
        background: #fdfaf1;
        color: var(--charcoal);
        line-height: 1.45;
        padding: 24px 20px;
      }
      .container { max-width: 960px; margin: 0 auto; position: relative; }

      /* Ensure monospace everywhere */
      input, button, code, pre, .strategy-card, .suggestions, .queries, .status, .result-row { font-family: inherit; }

      /* Header */
      .header { margin-bottom: 12px; }
      .title { font-size: 1.48rem; font-weight: 800; color: var(--warm-ink); letter-spacing: .2px; display: inline-flex; align-items: center; gap: 6px; }
      .caret-anim { display: inline-block; animation: caretBlink 1.2s steps(2, start) infinite; }
      @keyframes caretBlink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0; } }

      /* Search */
      .search-section { margin: 8px 0 14px; }
      .search-row { position: relative; height: 42px; display: flex; align-items: center; gap: 12px; }
      .search-track { position: relative; flex: 1 1 auto; height: 42px; display: flex; align-items: center; }
      /* Horizontal rail across full content width (input + button) */
      .search-row::before { content: ""; position: absolute; left: 0; right: 0; top: 100%; height: 1px; background: var(--sep-strong); transform: translateY(-1px); }
      /* Vertical guide slightly left of text start (gutter) */
      .search-track::after { content: ""; position: absolute; left: -16px; top: -28px; bottom: -28px; width: 3px; background: linear-gradient(180deg, rgba(170,148,90,0.95), rgba(170,148,90,0.45)); border-radius: 2px; }
      /* When results exist, extend the guide deeper */
      body.has-results .search-track::after { bottom: -100vh; }

      .prompt-label { position: absolute; left: 8px; top: 50%; transform: translateY(-50%); color: #8c7b4c; font-weight: 700; z-index: 2; pointer-events: none; }
      .search-input { position: relative; z-index: 1; flex: 1 1 auto; height: 38px; padding: 0 12px 0 64px; font: inherit; font-size: 1rem; line-height: 38px; background: transparent; outline: none; border: none; border-radius: 2px; box-shadow: none; caret-color: transparent; }
      .search-input::placeholder { color: #8a8f99; transition: color .12s ease; }
      .search-input:focus::placeholder { color: transparent; }
      .console-caret { position: absolute; top: 50%; transform: translateY(-50%); color: #b8a46e; font-weight: 800; animation: caretBlink 1.1s steps(2, start) infinite; pointer-events: none; z-index: 3; }
      .input-mirror { position: absolute; left: 64px; top: 50%; transform: translateY(-50%); visibility: hidden; white-space: pre; font: inherit; font-size: 1rem; letter-spacing: inherit; line-height: 38px; }

      .btn { position: relative; z-index: 1; height: 38px; padding: 0 10px; font-family: inherit; font-weight: 700; font-size: .92rem; line-height: 38px; letter-spacing: .05px; color: var(--charcoal); background: transparent; border: none; border-radius: 0; cursor: pointer; transition: transform .12s ease; display: inline-flex; align-items: center; justify-content: center; gap: 6px; }
      .btn:hover { transform: translateY(-1px); }
      .spinner { color: var(--warm-ink); min-width: 8px; display: inline-block; }
      .btn-progress { font-size: .9rem; color: #6c5a2b; }

      /* ASCII HUD */
      .hud { position: fixed; top: 12px; right: 16px; font-family: inherit; color: #6c5a2b; }
      .hud pre { font-family: inherit; font-size: .85rem; }

      /* Suggestions */
      .suggestions { margin-top: 6px; }
      .suggestions-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 8px; }
      .strategy-card { background: rgba(253,248,240,0.35); border-radius: 2px; padding: 8px 10px; cursor: pointer; box-shadow: inset 0 0 0 1px var(--sep); transition: background .15s ease; }
      .strategy-card:hover { background: rgba(253,248,240,0.55); }
      .strategy-card.active { background: rgba(253,248,240,0.75); box-shadow: inset 0 0 0 1px var(--sep-strong); }
      .strategy-query { font-weight: 800; color: var(--charcoal); margin: 0; }

      /* Results */
      .results { margin-top: 8px; }
      .results-list { display: block; }
      .result-row { position: relative; padding: 14px 10px 14px 14px; background: #fbf3e1; border-left: 3px solid var(--sep-strong); border-radius: 2px; }
      .result-row + .result-row { margin-top: 6px; box-shadow: inset 0 1px 0 var(--sep-strong); }
      /* Appear/Disappear animations */
      .result-row { transform: translateY(0); opacity: 1; transition: transform .25s ease, opacity .25s ease; }
      .result-row.hidden-row { transform: translateY(16px); opacity: 0; }
      .result-row.slide-down { transform: translateY(16px); opacity: 0; }
      .result-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 6px; }
      .result-name a { color: var(--charcoal); text-decoration: none; font-weight: 800; }
      .result-name a:hover { color: var(--warm-ink); }
      .stat { color: #a9872f; font-weight: 800; font-size: .82rem; margin-left: 6px; }
      .result-description { color: #5b616d; margin: 6px 0 8px; }
      .badge { color: #7b6a3a; font-size: .8rem; font-weight: 700; margin-right: 10px; }
      .result-meta { display: flex; gap: 16px; color: #666f7f; font-size: .8rem; }

      /* Status & Queries */
      .status { margin-top: 10px; padding: 10px 12px; border-radius: 2px; background: rgba(245,236,206,.8); font-size: .9rem; color: #565d6b; }
      .queries { margin-top: 10px; padding: 10px 12px; background: var(--charcoal-2); color: var(--warm-ink-2); border-radius: 2px; font-family: inherit; white-space: nowrap; overflow-x: auto; display: flex; align-items: center; gap: 10px; box-shadow: inset 0 0 0 1px #2a2d33; }
      .queries-label { color: #cdb56a; font-weight: 800; }
      .queries-text { color: #f3e4b7; }
      .queries::-webkit-scrollbar { height: 8px; }
      .queries::-webkit-scrollbar-track { background: #2a2d33; }
      .queries::-webkit-scrollbar-thumb { background: #7a6a3a; border-radius: 8px; }
      .queries { scrollbar-color: #7a6a3a #2a2d33; scrollbar-width: thin; }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="title">Git <span id="titleCaret" class="caret-anim">&gt;</span></div>
      </header>

      <section class="search-section">
        <div class="search-row">
          <div class="search-track">
            <span class="prompt-label">C:/</span>
            <span id="inputMirror" class="input-mirror"></span>
            <input id="q" class="search-input" placeholder="Type your query" />
            <span id="inputCaret" class="console-caret">_</span>
                </div>
          <button id="btn" class="btn">
            <span id="spinner" class="spinner hidden">/</span>
            <span id="btnLabel">Search &gt;</span>
            <code id="btnProgress" class="btn-progress hidden">[........] 0%</code>
                </button>
              </div>
      </section>

      <section id="searchSuggestions" class="suggestions hidden">
        <div class="suggestions-grid" id="suggestionButtons"></div>
      </section>

      <div id="status" class="status hidden"></div>
      <div id="queries" class="queries hidden"></div>

      <section id="results" class="results"></section>
      </div>

    <!-- ASCII HUD -->
    <div id="hud" class="hud" aria-hidden="true">
      <pre id="hudText">+----------------------+
| model: gemini        |
| req: -- ms  fps: --  |
+----------------------+</pre>
      </div>

    <script src="/static/app.js"></script>
  </body>
</html>


